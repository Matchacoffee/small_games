var Delaunay;(function(){var c=1/1048576;function d(j){var m=Number.POSITIVE_INFINITY,p=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h,f,g,e,l,o;for(h=j.length;h--;){if(j[h][0]<m){m=j[h][0]}if(j[h][0]>k){k=j[h][0]}if(j[h][1]<p){p=j[h][1]}if(j[h][1]>n){n=j[h][1]}}f=k-m;g=n-p;e=Math.max(f,g);l=m+f*0.5;o=p+g*0.5;return[[l-20*e,o-e],[l,o+20*e],[l+20*e,o-e]]}function a(u,l,m,n){var v=u[l][0],z=u[l][1],w=u[m][0],A=u[m][1],x=u[n][0],B=u[n][1],g=Math.abs(z-A),h=Math.abs(A-B),y,C,o,p,q,r,s,t,e,f;if(g<c&&h<c){throw new Error("Eek! Coincident points!")}if(g<c){p=-((x-w)/(B-A));r=(w+x)/2;t=(A+B)/2;y=(w+v)/2;C=p*(y-r)+t}else{if(h<c){o=-((w-v)/(A-z));q=(v+w)/2;s=(z+A)/2;y=(x+w)/2;C=o*(y-q)+s}else{o=-((w-v)/(A-z));p=-((x-w)/(B-A));q=(v+w)/2;r=(w+x)/2;s=(z+A)/2;t=(A+B)/2;y=(o*q-p*r+t-s)/(o-p);C=(g>h)?o*(y-q)+s:p*(y-r)+t}}e=w-y;f=A-C;return{i:l,j:m,k:n,x:y,y:C,r:e*e+f*f}}function b(g){var h,k,e,f,l,o;for(k=g.length;k;){f=g[--k];e=g[--k];for(h=k;h;){o=g[--h];l=g[--h];if((e===l&&f===o)||(e===o&&f===l)){g.splice(k,2);g.splice(h,2);break}}}}Delaunay={triangulate:function(v,r){var s=v.length,o,q,p,u,t,h,m,k,l,e,f,g;if(s<3){return[]}v=v.slice(0);if(r){for(o=s;o--;){v[o]=v[o][r]}}p=new Array(s);for(o=s;o--;){p[o]=o}p.sort(function(n,w){return v[w][0]-v[n][0]});u=d(v);v.push(u[0],u[1],u[2]);t=[a(v,s+0,s+1,s+2)];h=[];m=[];for(o=p.length;o--;m.length=0){g=p[o];for(q=t.length;q--;){k=v[g][0]-t[q].x;if(k>0&&k*k>t[q].r){h.push(t[q]);t.splice(q,1);continue}l=v[g][1]-t[q].y;if(k*k+l*l-t[q].r>c){continue}m.push(t[q].i,t[q].j,t[q].j,t[q].k,t[q].k,t[q].i);t.splice(q,1)}b(m);for(q=m.length;q;){f=m[--q];e=m[--q];t.push(a(v,e,f,g))}}for(o=t.length;o--;){h.push(t[o])}t.length=0;for(o=h.length;o--;){if(h[o].i<s&&h[o].j<s&&h[o].k<s){t.push(h[o].i,h[o].j,h[o].k)}}return t},contains:function(l,k){if((k[0]<l[0][0]&&k[0]<l[1][0]&&k[0]<l[2][0])||(k[0]>l[0][0]&&k[0]>l[1][0]&&k[0]>l[2][0])||(k[1]<l[0][1]&&k[1]<l[1][1]&&k[1]<l[2][1])||(k[1]>l[0][1]&&k[1]>l[1][1]&&k[1]>l[2][1])){return null}var e=l[1][0]-l[0][0],f=l[2][0]-l[0][0],g=l[1][1]-l[0][1],h=l[2][1]-l[0][1],j=e*h-f*g;if(j===0){return null}var m=(h*(k[0]-l[0][0])-f*(k[1]-l[0][1]))/j,n=(e*(k[1]-l[0][1])-g*(k[0]-l[0][0]))/j;if(m<0||n<0||(m+n)>1){return null}return[m,n]}};if(typeof module!=="undefined"){module.exports=Delaunay}})();